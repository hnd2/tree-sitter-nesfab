nmi game_nmi()
    if ready
        ppu_upload_oam_poll_pads(0)
    ppu_reset_scroll(0, 0)
    {PPUCTRL}(PPUCTRL_NMI_ON)
    {PPUMASK}(PPUMASK_SPR_ON)

mode main()
: nmi game_nmi
    palette = example_palette
    ppu_upload_palette()
    init_rope(128, 64)
    {PPUCTRL}(PPUCTRL_NMI_ON)
    while true
        nmi
        update_pads()
        update_rope()
        update_sprites()
